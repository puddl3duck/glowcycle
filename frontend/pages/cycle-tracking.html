<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cycle Tracking - Glow Cycle</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/cycle-tracking.css">
    <link rel="stylesheet" href="../css/dark-mode-complete.css">
</head>
<body class="light-theme">
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
        üåì
    </button>
    
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-logo">‚ú¶ Glow Cycle</div>
        <div class="nav-links">
            <a href="../index.html#dashboard" class="nav-link">Dashboard</a>
            <a href="../index.html#about" class="nav-link">About</a>
        </div>
        <div class="nav-profile">
            <div class="profile-avatar" id="profile-avatar">S</div>
            <span class="profile-name" id="profile-name">Sofia</span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="cycle-container">
        <!-- Back Button -->
        <div class="back-navigation">
            <a href="../index.html" class="back-link">
                <span class="back-arrow">‚Üê</span>
                <span>Back to Home</span>
            </a>
        </div>
        
        <!-- Header with Current Status -->
        <div class="page-header">
            <h1>Your Cycle Journey</h1>
            <div class="current-status">
                <span class="status-day" id="status-day">Day 14</span>
                <span class="status-separator">‚Ä¢</span>
                <span class="status-phase" id="status-phase">Ovulation Phase ‚ú®</span>
            </div>
        </div>

        <!-- Main Grid Layout -->
        <div class="main-grid">
            
            <!-- Left Column: Current Phase & Calendar -->
            <div class="left-column">
                
                <!-- Current Phase Card -->
                <div class="phase-card">
                    <div class="phase-header-section">
                        <div class="phase-badge" id="phase-badge">
                            <span class="phase-emoji-large" id="phase-emoji-large">‚ú®</span>
                        </div>
                        <div class="phase-info-section">
                            <h2 id="phase-title">Ovulation Phase</h2>
                            <p class="phase-day-info" id="phase-day-info">Day 14 of 28</p>
                        </div>
                    </div>
                    
                    <p class="phase-description" id="phase-description">
                        Peak estrogen means your skin is at its best! Radiant, glowing, and less reactive. Perfect time for trying new products.
                    </p>
                    
                    <div class="phase-quick-tips">
                        <div class="quick-tip">
                            <span class="tip-icon">‚ú®</span>
                            <span>Glowing skin</span>
                        </div>
                        <div class="quick-tip">
                            <span class="tip-icon">üíß</span>
                            <span>Less oily</span>
                        </div>
                        <div class="quick-tip">
                            <span class="tip-icon">üåü</span>
                            <span>Less breakouts</span>
                        </div>
                    </div>
                </div>

                <!-- Compact Calendar -->
                <div class="calendar-card">
                    <div class="calendar-header">
                        <h3>Period History</h3>
                        <button class="btn-log-period" onclick="openCalendarPicker()">
                            + Log Period
                        </button>
                    </div>
                    
                    <div class="calendar-controls">
                        <button class="calendar-nav" onclick="previousMonth()">‚Üê</button>
                        <h4 id="calendar-month">February 2026</h4>
                        <button class="calendar-nav" onclick="nextMonth()">‚Üí</button>
                    </div>
                    
                    <div class="calendar-grid" id="calendar-grid">
                        <!-- Calendar generated by JS -->
                    </div>
                    
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <span class="legend-dot period"></span>
                            <span>Period</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot predicted"></span>
                            <span>Predicted</span>
                        </div>
                    </div>
                    
                    <p class="calendar-hint">üí° Click any past date to log a period</p>
                </div>

                <!-- Period History Summary -->
                <div class="history-summary-card">
                    <h3>Recent Periods</h3>
                    <div class="history-list" id="history-list">
                        <div class="history-item">
                            <span class="history-date">January 15, 2026</span>
                            <span class="history-badge">28 days ago</span>
                        </div>
                        <div class="history-item">
                            <span class="history-date">December 18, 2025</span>
                            <span class="history-badge">28 day cycle</span>
                        </div>
                        <div class="history-item">
                            <span class="history-date">November 20, 2025</span>
                            <span class="history-badge">28 day cycle</span>
                        </div>
                    </div>
                    <p class="history-note">Tracking helps us predict your cycle more accurately</p>
                </div>
                
            </div>

            <!-- Right Column: Insights & Predictions -->
            <div class="right-column">
                
                <!-- Your Stats -->
                <div class="stats-card">
                    <h3>Your Cycle Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="stat-value" id="avg-cycle">28</div>
                            <div class="stat-label">Avg Cycle</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="cycle-count">3</div>
                            <div class="stat-label">Tracked</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="cycle-range">27-30</div>
                            <div class="stat-label">Range</div>
                        </div>
                    </div>
                    <p class="stat-message" id="insight-message">
                        Track more cycles for better predictions ‚ú®
                    </p>
                </div>

                <!-- Upcoming Events -->
                <div class="upcoming-card">
                    <h3>What's Coming</h3>
                    
                    <div class="upcoming-item">
                        <div class="upcoming-icon">üå∏</div>
                        <div class="upcoming-info">
                            <h4>Next Period</h4>
                            <p id="next-period-text">Expected in 14 days</p>
                            <div class="confidence-indicator">
                                <div class="confidence-bar">
                                    <div class="confidence-fill" id="period-confidence"></div>
                                </div>
                                <span class="confidence-text" id="period-confidence-label">High confidence</span>
                            </div>
                        </div>
                    </div>

                    <div class="upcoming-item">
                        <div class="upcoming-icon">‚ú®</div>
                        <div class="upcoming-info">
                            <h4>Next Ovulation</h4>
                            <p id="next-ovulation-text">Expected in 28 days</p>
                            <div class="confidence-indicator">
                                <div class="confidence-bar">
                                    <div class="confidence-fill" id="ovulation-confidence"></div>
                                </div>
                                <span class="confidence-text" id="ovulation-confidence-label">High confidence</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cycle Timeline -->
                <div class="timeline-card">
                    <h3>Cycle Phases</h3>
                    <div class="timeline-visual">
                        <div class="timeline-bar">
                            <div class="timeline-segment menstrual" style="width: 18%;">
                                <span class="segment-label">Menstrual</span>
                            </div>
                            <div class="timeline-segment follicular" style="width: 25%;">
                                <span class="segment-label">Follicular</span>
                            </div>
                            <div class="timeline-segment ovulation active" style="width: 18%;">
                                <span class="segment-label">Ovulation</span>
                            </div>
                            <div class="timeline-segment luteal" style="width: 39%;">
                                <span class="segment-label">Luteal</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Phase Explanation -->
                <div class="phase-explanation-card">
                    <h3>How Your Cycle Affects Your Skin</h3>
                    <div class="phase-info-grid">
                        <div class="phase-info-item">
                            <div class="phase-info-icon menstrual">üå∏</div>
                            <div class="phase-info-content">
                                <h4>Menstrual (Days 1-5)</h4>
                                <p>Low hormones make skin dry and sensitive. Focus on hydration and gentle products. Avoid harsh treatments.</p>
                            </div>
                        </div>
                        <div class="phase-info-item">
                            <div class="phase-info-icon follicular">üå±</div>
                            <div class="phase-info-content">
                                <h4>Follicular (Days 6-12)</h4>
                                <p>Rising estrogen improves skin texture and clarity. Great time to try new products or book treatments.</p>
                            </div>
                        </div>
                        <div class="phase-info-item">
                            <div class="phase-info-icon ovulation">‚ú®</div>
                            <div class="phase-info-content">
                                <h4>Ovulation (Days 13-17)</h4>
                                <p>Peak estrogen = peak glow! Skin is radiant, plump, and can handle active ingredients like retinol or acids.</p>
                            </div>
                        </div>
                        <div class="phase-info-item">
                            <div class="phase-info-icon luteal">üåô</div>
                            <div class="phase-info-content">
                                <h4>Luteal (Days 18-28)</h4>
                                <p>Rising progesterone increases oil and can cause breakouts. Use oil-control products and spot treatments.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Log Period Modal -->
    <div class="modal-overlay" id="calendar-modal" onclick="closeCalendarModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>Log Period Start Date</h3>
                <button class="modal-close" onclick="closeCalendarModal()">√ó</button>
            </div>
            <div class="modal-body">
                <p class="modal-instruction">
                    When did your period start? This helps us track your cycle and make accurate predictions.
                </p>
                
                <div class="date-options">
                    <button class="date-option-btn" onclick="selectDateOption('today')">
                        <span class="option-icon">üå∏</span>
                        <div class="option-content">
                            <span class="option-text">Today</span>
                            <span class="option-subtext" id="today-date">Feb 17</span>
                        </div>
                    </button>
                    <button class="date-option-btn" onclick="selectDateOption('yesterday')">
                        <span class="option-icon">üìÖ</span>
                        <div class="option-content">
                            <span class="option-text">Yesterday</span>
                            <span class="option-subtext" id="yesterday-date">Feb 16</span>
                        </div>
                    </button>
                    <button class="date-option-btn" onclick="selectDateOption('custom')">
                        <span class="option-icon">üóìÔ∏è</span>
                        <div class="option-content">
                            <span class="option-text">Another Day</span>
                            <span class="option-subtext">Pick a date</span>
                        </div>
                    </button>
                </div>
                
                <div class="custom-date-picker" id="custom-date-section" style="display: none;">
                    <label for="period-date-picker">Select the date your period started:</label>
                    <input type="date" id="period-date-picker" class="date-input" max="">
                    <button class="save-btn" onclick="savePeriodFromModal()">Save Date</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/cycle-tracking.js"></script>
</body>
</html>
